package ba.bitcamp.homeworkInheritance.task03;

import ba.bitcamp.homeworkInheritance.task02.Author;

public class BookShop {

	/*
	 * Declaring properties of book-shop
	 */
	private String name;
	private Book[] books;

	/**
	 * Constructor
	 * 
	 * @param name
	 *            - Name of the book-shop.
	 * @param books
	 *            - An array of books in the book-shop.
	 */
	public BookShop(String name, Book[] books) {
		super();
		this.name = name;
		this.books = books;
	}

	/*
	 * Get and set method
	 */
	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	/**
	 * Adds new book in the book-shop
	 * 
	 * @param b
	 *            - Book that user wants to add.
	 */
	public void addBook(Book b) {
		for (int i = 0; i < books.length; i++) {
			if (books[i] != null && books[i].equal(b)
					&& b.getStatus() < b.MAX_BOOKS) {
				b.setStatus(1);
				break;
			} else if (books[i] != null && books[i].equal(b)
					&& b.getStatus() == b.MAX_BOOKS) {
				System.out.println("Can't add more books!");
				break;
			} else if (books[i] == null) {
				books[i] = b;
				b.setStatus(1);
				break;
			}
		}
	}

	/**
	 * Sells book from the book-shop
	 * 
	 * @param b
	 *            - Book that user wants to sell.
	 */
	public void sellBook(Book b) {
		for (int i = 0; i < books.length; i++) {
			if (books[i] != null && books[i].equal(b)) {
				books[i] = null;
				b.setStatus(-1);
				break;
			}
		}
	}

	/**
	 * Prints all books that are in shop.
	 */
	public void printBooks() {
		int counter = 0;

		for (int i = 0; i < books.length; i++) {
			if (books[i] != null) {
				System.out.println(books[i] + " ");
				counter++;
			}
		}

		if (counter == 0) {
			System.out.println("There are no books in the shop!");
		}
	}
	
	public void printBookFromAuthor(Author a){
		
		for (int i = 0; i < books.length; i++) {
			if (books[i] != null && books[i].getAuthor().getName().equals(a.getName())) {
				System.out.println(books[i] + " ");
			}
		}
	}

}
